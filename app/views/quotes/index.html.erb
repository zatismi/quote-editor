<%# <%= turbo_stream_from current_company, "quotes" %>
<div class="container">
  <div class="header mt-3">
    <div class="row">
      <div class="col-12 col-lg-6">
        <%= turbo_frame_tag "single_quote",
        class: "shadow-sm p-3 my-3 d-flex flex-column justify-content-center",
        style: "height: 500px; border: 1px dashed #beae94" do %>
          <div class="opacity-50 d-flex flex-column align-items-center justify-content-center">
            <div id="quote-icons" class="opacity-25 d-flex flex-column align-items-center justify-content-center transp" style="width: 100%; height: 100%;">
              <i class="fa-solid fa-circle-plus fa-beat-fade fa-10x"></i>
              <i class="fa-regular fa-pen-to-square fa-beat-fade fa-10x" style="display:none;"></i>
              <i class="fa-solid fa-eye fa-beat-fade fa-10x" style="display:none;"></i>
            </div>
            <script>
              document.addEventListener("DOMContentLoaded", function() {
                const icons = document.querySelectorAll("#quote-icons i");
                let currentIndex = 0;

                setInterval(() => {
                  icons[currentIndex].style.display = "none";
                  currentIndex = (currentIndex + 1) % icons.length;
                  icons[currentIndex].style.display = "inline";
                }, 1000);
              });
            </script>
          </div>
        <% end %>
      </div>
      <div class="col-12 col-lg-6">
        <%= turbo_frame_tag "quotes" do %>
          <% if @quotes.any? %>
            <div class="border p-3 mt-3 shadow-sm" style="height: 500px">
              <div class="d-flex flex-row justify-content-between align-items-center">
                <h1 class="text-center">Quotes List</h1>
                <%= link_to "New quote",
                  new_quote_path,
                  class: "btn btn-primary",
                  data: { turbo_frame: "single_quote" } %>
              </div>
              <table class="table">
                <thead>
                  <tr class="row px-3 pt-2">
                    <th class="col-7 ps-3 bg-secondary text-dark" style="z-index: 10;">Quote Name</th>
                    <th class="col-5 text-center bg-secondary text-dark" style="z-index: 10;">Action (Edit/Delete/Delete)</th>
                  </tr>
                </thead>
              </table>
              <div class="table-responsive" style="max-height: 350px; overflow-y: auto; overflow-x: hidden;">
                <table class="table">
                  <tbody id="quotes_table">
                    <%#= render partial: "quote", collection: @quotes %>
                    <%= render @quotes %>
                  </tbody>
                </table>
              </div>
            </div>
          <% else %>
            <%= render "quotes/empty_state" %>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
